# Anchora - Dev README

Anchora — это расширение для VSCode, которое превращает комментарии в коде в полноценную систему управления задачами. Вместо отдельных трекеров задач, все задачи живут прямо в коде там, где они нужны.

## Основной функционал

### Задачи в комментариях
- Создание задач прямо в комментариях кода
- Отслеживание статуса (todo, in_progress, done, blocked)
- Автоматическое сканирование файлов и синхронизация
- Визуальные индикаторы в редакторе

### Система заметок
- Создание заметок для будущих задач
- Генерация ссылок для преобразования заметок в задачи
- Автоматическое преобразование заметок в задачи при появлении в коде

### Навигация и поиск
- Переход к определению задачи
- Поиск всех ссылок на задачу
- Древовидное отображение задач и заметок
- Поиск по задачам

### Мониторинг файлов
- Автоматическое отслеживание изменений в файлах
- Синхронизация задач в реальном времени
- Поддержка множества языков программирования

## Как пользоваться

### Синтаксис задач

```rust
// dev:auth_system: Реализовать OAuth2 аутентификацию
// dev:auth_system:todo: Добавить валидацию токенов
// dev:auth_system                    // Простая ссылка
// dev:auth_system:in_progress        // Обновление статуса
```

### Работа с задачами

1. **Создание задачи**: Добавьте комментарий в формате `// секция:идентификатор: описание`
2. **Обновление статуса**: Используйте формат `// секция:идентификатор:статус`
3. **Навигация**: F12 для перехода к определению, Shift+F12 для поиска ссылок

### Панели VSCode

**Панель задач**:
- Просмотр всех задач по секциям
- Обновление статуса через контекстное меню
- Переход к коду задачи

**Панель заметок**:
- Создание заметок для будущих задач
- Генерация ссылок для вставки в код
- Автоматическое преобразование в задачи

### Строка состояния
- Счетчики задач по статусам: ○3 ◐1 ●5
- Контекст текущей задачи при редактировании
- Быстрый доступ к поиску

### Команды

| Команда | Горячие клавиши | Описание |
|---------|----------------|----------|
| Create Note | Ctrl+Shift+T | Создать заметку |
| Go to Task Definition | F12 | Перейти к определению задачи |
| Find Task References | Shift+F12 | Найти все ссылки на задачу |
| View All Tasks | Ctrl+Shift+A | Показать все задачи |
| Search Tasks | Ctrl+Shift+F | Поиск по задачам |
| Task Dashboard | Ctrl+Shift+D | Открыть дашборд задач |

### Цветовая индикация

Задачи подсвечиваются в редакторе разными цветами:
- **Todo** (○): Желтый - новые задачи
- **In Progress** (◐): Синий - в работе  
- **Done** (●): Зеленый - выполненные
- **Blocked** (◯): Красный - заблокированные

### Workflow с заметками

1. Создайте заметку через команду или панель
2. Заполните название, описание, секцию и предлагаемый ID
3. Сгенерируйте ссылку через контекстное меню
4. Вставьте ссылку в код - заметка автоматически станет задачей

### Мониторинг проекта

Система автоматически:
- Сканирует файлы при изменениях
- Обновляет индекс задач
- Синхронизирует данные между VSCode и бэкендом
- Сохраняет состояние в `.anchora/tasks.json`

### Настройка

В settings.json можно настроить:
- Паттерны файлов для сканирования
- Игнорируемые директории  
- Цвета для статусов задач
- Режим отладки

```json
{
  "anchora.filePatterns": ["**/*.rs", "**/*.ts", "**/*.py"],
  "anchora.ignoredDirectories": ["target", "node_modules", ".git"],
  "anchora.decorationColors": {
    "todo": "#ff6b6b",
    "in_progress": "#4ecdc4"
  }
}
```